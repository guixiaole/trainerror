<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/quxian.css" />
    <title>Document</title>
  <script th:src="@{/js/echarts.js}"></script>
  </head>
  <body>
  <div class="nav">
    <div class="info">
        <span class="left_info">司机</span
        ><span class="right_info">503234</span>
      <span class="left_info">副司机</span
      ><span class="right_info">503234</span>
      <span class="left_info">开车时间</span
      ><span class="right_info">503234</span>

      <span class="left_info">机型</span
      ><span class="right_info">503234</span>
      <span class="left_info">车次</span
      ><span class="right_info">503234</span>
      <span class="left_info">起点站</span
      ><span class="right_info">503234</span>

      <span class="left_info">机车号</span
      ><span class="right_info">503234</span>
      <span class="left_info">交路号</span
      ><span class="right_info">503234</span>

      <span class="left_info">计长</span>
      <span class="right_info">503234</span>
    </div>
    <div class="xiangdian">
      <div class="file_info">项点分析指向</div>
      <div class="error_wubu">
        <div class="error_td">
          <span>I端</span>
          <span onclick="modefiy_option()">第一步</span>
          <span>第二步</span>
          <span>第三步</span>
          <span>第四步</span>
          <span>第五步</span>
          <span>第六步</span>
          <span>第七步</span>
          <span>第八步</span>
        </div>
        <div class="error_td">
          <span>II端</span>
          <span>第一步</span>
          <span>第二步</span>
          <span>第三步</span>
          <span>第四步</span>
          <span>第五步</span>
          <span>第六步</span>
          <span>第七步</span>
          <span>第八步</span>
        </div>
      </div>
      <div class="quxian">
        <div class="all_xiangdian">
          <div class="error_td1">
            <span>第1报错</span>
            <span>第2报错</span>
            <span>第3报错</span>
            <span>第4报错</span>
          </div>
          <div class="error_td1">
            <span>第5报错</span>
            <span>第6报错</span>
            <span>第7报错</span>
            <span>第8报错</span>
          </div>
        </div>
        <div class="recorder_quxian">曲线记录</div>
        <div class="recorder_fanhui">返回</div>
      </div>
    </div>
  </div>
    <div
            class="quanpingclick"
            id = "quanping2"
            style="
        height: 300px;
        width: 5%;
        float: left;
        align-items: center;
        line-height: 300px;
        display: flex;
      "
    >
      <span
              class="quanping_span"
              style="
          width: 80%;
          margin: 0 auto;
          height: 100px;
          border: 1px solid #38f;
          line-height: 50px;
          text-align: center;
          font-size: 20px;
        "
              onclick="quanping()"
      >全<br />屏</span
      >
    </div>
    <div
            class="paint"
            id="paint"
            style="width: 95%; height: 300px; float: left"
    ></div>
    <div
            class="quanpingclick1"
            id = "quanping1"
            style="
        height: 300px;
        width: 5%;
        float: left;
        align-items: center;
        line-height: 300px;
        display: flex;
      "
    >
      <span
              class="quanping_span1"
              style="
          width: 80%;
          margin: 0 auto;
          height: 100px;
          border: 1px solid #38f;
          line-height: 50px;
          text-align: center;
          font-size: 20px;
        "
              onclick="quanping1()"
      >全<br />屏</span
      >
    </div>
    <div
            class="paint"
            id="paint1"
            style="width: 95%; height: 300px; float: left"
    ></div>
  </body>
  <script type="text/javascript" th:inline="javascript">
    // 基于准备好的dom，初始化echarts实例
    var myPaint = document.getElementById('paint')
    var myPaint1 = document.getElementById('paint1')
    var myChart = echarts.init(myPaint)
    var myChart1 = echarts.init(myPaint1)
    var times =  [[${times}]];
    var guanya = [[${guanya}]]
    var gangya=[[${gangya}]]
    var speed=[[${speed}]]
    var zhuanSuDianLiu=[[${zhuanSuDianLiu}]]
    var restrictSpeed=[[${restrictSpeed}]]
    var quancheng = [[${quanCheng}]]
    // 指定图表的配置项和数据
    var option = {

      title: {
        text: '全程记录',
      },
      tooltip: {},
      legend: {
        data: [
          {
            name: '管压',
            icon: 'rectangle',
          },
          {
            name: '均缸压',
            icon: 'rectangle',
          },
        ],
      },
      xAxis: {
        data: times,
      },
      line: {
        itemStyle: {
          normal: {
            // color: 各异,
            label: {
              show: false,
              // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为
              //           'inside'|'left'|'right'|'top'|'bottom'
              // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE
            },
            lineStyle: {
              width: 2,
              type: 'solid',
              shadowColor: 'rgba(0,0,0,0)', //默认透明
              shadowBlur: 5,
              shadowOffsetX: 3,
              shadowOffsetY: 3,
            },
          },
          emphasis: {
            // color: 各异,
            label: {
              show: false,
              // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为
              //           'inside'|'left'|'right'|'top'|'bottom'
              // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE
            },
          },
        },
        //smooth : false,
        symbol: 'none', // 拐点图形类型
        symbolSize: 0, // 拐点图形大小
        //symbolRotate : null,  // 拐点图形旋转控制
        showAllSymbol: true, // 标志图形默认只有主轴显示（随主轴标签间隔隐藏策略）
      },

      dataZoom: {
        orient: 'horizontal', // 布局方式，默认为水平布局，可选为：
        // 'horizontal' ¦ 'vertical'
        // x: {number},            // 水平安放位置，默认为根据grid参数适配，可选为：
        // {number}（x坐标，单位px）
        // y: {number},            // 垂直安放位置，默认为根据grid参数适配，可选为：
        // {number}（y坐标，单位px）
        // width: {number},        // 指定宽度，横向布局时默认为根据grid参数适配
        // height: {number},       // 指定高度，纵向布局时默认为根据grid参数适配
        backgroundColor: 'rgba(0,0,0,0)', // 背景颜色
        dataBackgroundColor: '#eee', // 数据背景颜色
        fillerColor: 'rgba(144,197,237,0.2)', // 填充颜色
        handleColor: 'rgba(70,130,180,0.8)', // 手柄颜色
      },
      yAxis: {},
      series: [
        {
          name: '管压',
          type: 'line',
          smooth: false,
          symbol: 'none',
          data: gangya,
        },
        {
          symbol: 'none',
          name: '均缸压',
          type: 'line',
          smooth: false,
          data: guanya,
        },
      ],
    }
    var option1 = {
      title: {
        text: '全程记录',
      },
      tooltip: {},
      legend: {
        data: [
          {
            name: '速度',
            icon: 'rectangle',
          },
          {
            name: '限速',
            icon: 'rectangle',
          },
          {
            name: '转速电流',
            icon: 'rectangle',
          },
        ],

      },
      xAxis: {
        data: times,
      },
      line: {
        itemStyle: {
          normal: {
            // color: 各异,
            label: {
              show: false,
              // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为
              //           'inside'|'left'|'right'|'top'|'bottom'
              // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE
            },
            lineStyle: {
              width: 2,
              type: 'solid',
              shadowColor: 'rgba(0,0,0,0)', //默认透明
              shadowBlur: 5,
              shadowOffsetX: 3,
              shadowOffsetY: 3,
            },
          },
          emphasis: {
            // color: 各异,
            label: {
              show: false,
              // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为
              //           'inside'|'left'|'right'|'top'|'bottom'
              // textStyle: null      // 默认使用全局文本样式，详见TEXTSTYLE
            },
          },
        },
        //smooth : false,
        symbol: 'none', // 拐点图形类型
        symbolSize: 0, // 拐点图形大小
        //symbolRotate : null,  // 拐点图形旋转控制
        showAllSymbol: true, // 标志图形默认只有主轴显示（随主轴标签间隔隐藏策略）
      },

      dataZoom: {
        orient: 'horizontal', // 布局方式，默认为水平布局，可选为：
        // 'horizontal' ¦ 'vertical'
        // x: {number},            // 水平安放位置，默认为根据grid参数适配，可选为：
        // {number}（x坐标，单位px）
        // y: {number},            // 垂直安放位置，默认为根据grid参数适配，可选为：
        // {number}（y坐标，单位px）
        // width: {number},        // 指定宽度，横向布局时默认为根据grid参数适配
        // height: {number},       // 指定高度，纵向布局时默认为根据grid参数适配
        backgroundColor: 'rgba(0,0,0,0)', // 背景颜色
        dataBackgroundColor: '#eee', // 数据背景颜色
        fillerColor: 'rgba(144,197,237,0.2)', // 填充颜色
        handleColor: 'rgba(70,130,180,0.8)', // 手柄颜色
      },
      yAxis: {},
      series: [
        {
          name: '速度',
          type: 'line',
          smooth: false,
          symbol: 'none',
          data: speed,
        },
        {
          symbol: 'none',
          name: '限速',
          type: 'line',
          smooth: false,
          data: restrictSpeed,
        },
        {
          symbol: 'none',
          name: '转速电流',
          type: 'line',
          smooth: false,
          data: zhuanSuDianLiu,
        },
      ],
    }
    var flag_quanping =1
    var flag_quanping1 =1
    // 使用刚指定的配置项和数据显示图表。
    myChart.setOption(option)
    myChart1.setOption(option1)
    var quanping_click = document.getElementsByClassName("quanpingclick")[0]
    var quanping_click1 = document.getElementsByClassName("quanpingclick1")[0]
    var quanping_span = document.getElementsByClassName("quanping_span")[0]
    var quanping_span1 = document.getElementsByClassName("quanping_span1")[0]
    function modefiy_option(step){
      myChart.setOption(
              {
                series:[
                  {
                    name: '管压',
                    type: 'line',
                    smooth: false,
                    symbol: 'none',
                    data: gangya,
                    markLine: {
                      symbol: 'none',
                      lineStyle: {
                        type: 'solid',
                      },
                      data: [
                        [
                          {
                            coord: [times[10], 0],
                          },
                          {
                            coord: [times[10], 600],
                          },
                        ],
                      ],
                    } ,

                  },
                  {
                    symbol: 'none',
                    name: '均缸压',
                    type: 'line',
                    smooth: false,
                    data: guanya,
                  },
                ]
              }
      )
      myChart.setOption(option);
    }
    function quanping() {
      if (flag_quanping == 1) {
        myChart.getDom().style.height = '600px'
        myChart.resize()
        myChart1.getDom().style.height = '0'
        myChart1.resize()
        quanping_click.style.height = '600px'
        quanping_click1.style.display = 'none'
        quanping_span1.style.display = 'none'
        flag_quanping = 0
      } else {
        myChart.getDom().style.height = '300px'
        myChart.resize()
        myChart1.getDom().style.height = '300px'
        myChart1.resize()
        quanping_click.style.height = '300px'
        quanping_click1.style.display = 'block'
        quanping_span1.style.display = 'block'
        flag_quanping = 1
      }
    }
    function quanping1() {
      if (flag_quanping1 == 1) {
        myChart1.getDom().style.height = '600px'
        myChart1.resize()
        myChart.getDom().style.height = '0'
        myChart.resize()
        quanping_click.style.display = 'none'
        quanping_click1.style.height = '600px'
        quanping_span.style.display = 'none'

        flag_quanping1 = 0
      } else {
        myChart1.getDom().style.height = '300px'
        myChart1.resize()
        myChart.getDom().style.height = '300px'
        myChart.resize()
        quanping_click1.style.height = '300px'
        quanping_click.style.display = 'block'
        quanping_span.style.display = 'block'
        flag_quanping1 = 1
      }
    }
  </script>
</html>
